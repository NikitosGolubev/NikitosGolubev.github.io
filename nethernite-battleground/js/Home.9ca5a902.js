(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"10a2":function(e,t,a){},1721:function(e,t,a){"use strict";var n=a("31b5"),s=a.n(n);t["default"]=s.a},2859:function(e,t,a){"use strict";a("613a")},"2a0a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("SearchPackages",{attrs:{"per-page":e.limit,page:e.currentPage},on:{loading:e.setLoading,"search-result":e.setPackages},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1),a("div",{staticClass:"packages-display"},[a("div",{staticClass:"results-header packages-display__header"},[a("div",[a("span",{staticClass:"text-sm-h6 text-md-h4"},[e._v(e._s(e.title))])]),a("div",[a("BasePagination",{attrs:{items:e.packages},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]),a("div",[a("PackagesTable",{attrs:{packages:e.packages,"is-search-result":e.isSearchInputProvided,loading:e.isLoading},on:{"row-click":e.selectPackage}})],1)]),a("PackageModal",{attrs:{"package-name":e.selectedPackageName},on:{close:e.unselectPackage},model:{value:e.isPackageDetailsWindowOpened,callback:function(t){e.isPackageDetailsWindowOpened=t},expression:"isPackageDetailsWindowOpened"}})],1)},s=[],i=a("ade3"),r=a("1da1"),c=a("5530"),o=(a("96cf"),a("a9e3"),a("2f62")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{loading:e.isLoading,placeholder:e.$t("search"),dense:"","solo-inverted":""},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})},l=[],p=(a("d81d"),{name:"SearchPackages",props:{value:{type:String,default:""},perPage:{type:[String,Number],default:10},page:{type:[String,Number],default:1}},data:function(){return{isLoading:!1,searchInput:"",searchResults:[]}},watch:{value:{handler:function(e){e!==this.searchInput&&this.setSearchInput(e)},immediate:!0},searchInput:{handler:function(e){this.$emit("input",e),this.updateSearchResults(e)},immediate:!0},searchResults:{handler:function(e){this.$emit("search-result",e)},deep:!0},isLoading:function(e){this.$emit("loading",e)},perPage:function(e,t){e!==t&&this.updateSearchResults(this.searchInput)},page:function(e,t){e!==t&&this.updateSearchResults(this.searchInput)}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])("packages",["searchPackages"])),Object(o["b"])("system",["setErrorMessage"])),{},{updateSearchResults:function(e){(null===e||void 0===e?void 0:e.length)>1&&this.getSearchResults()},getSearchResults:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,e.searchPackages({text:e.searchInput,size:e.perPage,from:e.perPage*(e.page-1)});case 4:a=t.sent,n=a.objects.map((function(e){return e.package})),e.setSearchResults(n),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.message&&e.setErrorMessage(t.t0.message);case 12:return t.prev=12,e.setLoading(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},setSearchResults:function(e){this.searchResults=e},setSearchInput:function(e){this.searchInput=e},setLoading:function(e){this.isLoading=e}})}),d=p,h=a("2877"),f=a("1721"),g=Object(h["a"])(d,u,l,!1,null,"6703ca72",null);"function"===typeof f["default"]&&Object(f["default"])(g);var m=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.packages,loading:e.loading,"hide-default-footer":""},on:{"click:row":e.onRowClick}})},b=[],k=(a("b0c0"),{name:"PackagesTable",props:{packages:{type:Array,required:!0},loading:{type:Boolean,default:!1},isSearchResult:{type:Boolean,default:!1}},computed:{headers:function(){return this.isSearchResult?[{text:this.$t("name"),value:"name"},{text:this.$t("author"),value:"author.name",sortable:!1},{text:this.$t("version"),value:"version",sortable:!1},{text:this.$t("repository"),value:"links.repository",sortable:!1}]:[{text:this.$t("name"),value:"name"},{text:this.$t("type"),value:"type",sortable:!1},{text:this.$t("hits"),value:"hits"}]}},methods:{onRowClick:function(e){this.$emit("row-click",e.name)}}}),P=k,_=(a("2859"),a("4c89")),x=Object(h["a"])(P,v,b,!1,null,"0920a70e",null);"function"===typeof _["default"]&&Object(_["default"])(x);var y=x.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._t("default",[a("v-btn",{attrs:{disabled:e.isPrevDisabled},on:{click:e.onPrevClick}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v(" "+e._s(e.$t("prev"))+" ")],1),a("v-btn",{staticClass:"ml-2",attrs:{disabled:e.isNextDisabled},on:{click:e.onNextClick}},[e._v(" "+e._s(e.$t("next"))+" "),a("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-right")])],1)],{onPrevClick:e.onPrevClick,onNextClick:e.onNextClick,isPrevDisabled:e.isPrevDisabled,isNextDisabled:e.isNextDisabled})],2)},O=[],N={name:"BasePagination",props:{value:{type:[Number,String],required:!0},items:{type:Array,default:function(){return[]}}},computed:{isPrevDisabled:function(){return 1===Number(this.value)},isNextDisabled:function(){return!this.items||!this.items.length}},methods:{onPrevClick:function(){this.$emit("input",this.value-1)},onNextClick:function(){this.$emit("input",Number(this.value)+1)}}},w=N,S=a("f20d"),C=Object(h["a"])(w,I,O,!1,null,"6ebff8ec",null);"function"===typeof S["default"]&&Object(S["default"])(C);var $=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":800},model:{value:e.isOpened,callback:function(t){e.isOpened=t},expression:"isOpened"}},[a("v-card",{staticClass:"modal",attrs:{loading:e.isLoading}},[a("v-card-title",[a("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%"}},[a("div",[a("span",{staticClass:"headline"},[e._v(e._s(e.packageName))])]),a("div",[a("v-btn",{attrs:{icon:"",small:"",color:"red"},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1)],1)])]),a("v-divider"),a("v-card-text",[a("div",[a("span",{staticClass:"text-subtitle-1 font-weight-bold"},[e._v(" "+e._s(e.$t("description"))+": ")]),a("br"),e._v(" "+e._s(e.$filters.capitalizeFirst(e.description))+" ")]),e.license?a("div",{staticClass:"mt-4"},[a("span",{staticClass:"text-subtitle-1 font-weight-bold"},[e._v(" "+e._s(e.$t("license"))+": ")]),e._v(" "+e._s(e.license)+" ")]):e._e(),e.maintainers.length?a("div",{staticClass:"mt-4"},[a("span",{staticClass:"text-subtitle-1 font-weight-bold"},[e._v(" "+e._s(e.$t("maintainers"))+": ")]),a("ul",e._l(e.maintainers,(function(t){return a("li",{key:t.name},[a("div",[a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("name"))+": ")]),a("span",[e._v(e._s(t.name))]),a("br"),a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("email"))+": ")]),a("span",[e._v(e._s(t.email))])])])})),0)]):e._e()])],1)],1)},D=[],E=(a("a4d3"),a("e01a"),{name:"PackageModal",props:{value:{type:Boolean,default:!1},packageName:{type:String,required:!0}},data:function(){return{isOpened:!1,isLoading:!0,packageData:null}},computed:{description:function(){return this.packageData?this.packageData.description:""},license:function(){return this.packageData?this.packageData.license:""},maintainers:function(){return this.packageData?this.packageData.maintainers:[]}},watch:{value:{handler:function(e){e!==this.isOpened&&(this.isOpened=e)},immediate:!0},isOpened:{handler:function(e){e!==this.value&&(this.$emit("input",e),e||this.$emit("close")),e&&this.getPackageData()},immediate:!0}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])("packages",["getPackage"])),Object(o["b"])("system",["setErrorMessage"])),{},{close:function(){this.isOpened=!1,this.packageData=null},getPackageData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,e.getPackage({packageName:e.packageName});case 4:e.packageData=t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.close(),e.setErrorMessage(e.$t("not-found-npm"));case 11:return t.prev=11,e.setLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})))()},setLoading:function(e){this.isLoading=e}})}),R=E,L=(a("ebf7"),a("8461")),M=Object(h["a"])(R,j,D,!1,null,"35d7b832",null);"function"===typeof L["default"]&&Object(L["default"])(M);var A=M.exports,T={name:"HomePage",components:{SearchPackages:m,PackagesTable:y,BasePagination:$,PackageModal:A},props:{searchParam:{type:String,default:""},limit:{type:[String,Number],default:10},page:{type:[String,Number],default:1}},data:function(){return{packages:[],searchInput:"",isLoading:!1,currentPage:1,selectedPackageName:"",isPackageDetailsWindowOpened:!1}},computed:{title:function(){return this.isSearchInputProvided?this.$t("searched-packages"):this.$t("most-popular-packages")},isSearchInputProvided:function(){var e,t;return(!!this.searchInput||!!this.searchParam)&&((null===(e=this.searchInput)||void 0===e?void 0:e.length)>1||(null===(t=this.searchParam)||void 0===t?void 0:t.length)>1)}},watch:{searchParam:{handler:function(e){e!==this.searchInput&&this.setSearchInput(e)},immediate:!0},searchInput:function(e){this.setCurrentPage(1),this.setQueryParam("search",e)},page:{handler:function(e){e!==this.currentPage&&this.setCurrentPage(e)},immediate:!0},currentPage:function(e,t){e!==t&&(this.isSearchInputProvided||this.getMostPopularPackages(),this.setQueryParam("page",e))},isSearchInputProvided:{handler:function(e){e||this.getMostPopularPackages()},immediate:!0}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])("packages",["loadMostPopularPackages","getPackage"])),Object(o["b"])("system",["setErrorMessage"])),{},{getMostPopularPackages:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoading(!0),t.next=4,e.loadMostPopularPackages({limit:e.limit,page:e.currentPage});case 4:a=t.sent,e.setPackages(a),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),t.t0.message&&e.setErrorMessage(t.t0.message);case 11:return t.prev=11,e.setLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},setQueryParam:function(e,t){this.$router.push({query:Object(c["a"])(Object(c["a"])({},this.$route.query),{},Object(i["a"])({},e,t))}).catch((function(){}))},selectPackage:function(e){this.selectedPackageName=e,this.isPackageDetailsWindowOpened=!0},unselectPackage:function(){this.selectedPackageName=""},setLoading:function(e){this.isLoading=e},setSearchInput:function(e){this.searchInput=e},setPackages:function(e){this.packages=e},setCurrentPage:function(e){this.currentPage=e}})},F=T,B=(a("f493"),a("9bde")),q=Object(h["a"])(F,n,s,!1,null,"1ced120f",null);"function"===typeof B["default"]&&Object(B["default"])(q);t["default"]=q.exports},"31b5":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"search":"Search packages"},"ru":{"search":"Ищите пакеты"}}'),delete e.options._Ctor}},"4c89":function(e,t,a){"use strict";var n=a("695d"),s=a.n(n);t["default"]=s.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),s=a("5899"),i="["+s+"]",r=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(r,"")),2&e&&(a=a.replace(c,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},"613a":function(e,t,a){},"695d":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"name":"Package name","author":"Author","version":"Version","repository":"Repository","type":"Source type","hits":"Downloads"},"ru":{"name":"Имя пакета","author":"Автор","version":"Версия","repository":"Репозиторий","type":"Источник","hits":"Количество скачиваний"}}'),delete e.options._Ctor}},7156:function(e,t,a){var n=a("861d"),s=a("d2bb");e.exports=function(e,t,a){var i,r;return s&&"function"==typeof(i=t.constructor)&&i!==a&&n(r=i.prototype)&&r!==a.prototype&&s(e,r),e}},8461:function(e,t,a){"use strict";var n=a("ae81"),s=a.n(n);t["default"]=s.a},"9bde":function(e,t,a){"use strict";var n=a("e405"),s=a.n(n);t["default"]=s.a},a9e3:function(e,t,a){"use strict";var n=a("83ab"),s=a("da84"),i=a("94ca"),r=a("6eeb"),c=a("5135"),o=a("c6b6"),u=a("7156"),l=a("c04e"),p=a("d039"),d=a("7c73"),h=a("241c").f,f=a("06cf").f,g=a("9bf2").f,m=a("58a8").trim,v="Number",b=s[v],k=b.prototype,P=o(d(k))==v,_=function(e){var t,a,n,s,i,r,c,o,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=m(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(i=u.slice(2),r=i.length,c=0;c<r;c++)if(o=i.charCodeAt(c),o<48||o>s)return NaN;return parseInt(i,n)}return+u};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,y=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof y&&(P?p((function(){k.valueOf.call(a)})):o(a)!=v)?u(new b(_(t)),a,y):_(t)},I=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;I.length>O;O++)c(b,x=I[O])&&!c(y,x)&&g(y,x,f(b,x));y.prototype=k,k.constructor=y,r(s,v,y)}},ae81:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"description":"Description","license":"License","maintainers":"Maintainers","name":"Name","email":"E-mail","not-found-npm":"This package is not registered at NPM or was not found"},"ru":{"description":"Описание","license":"Права","maintainers":"Команда поддержки","name":"Имя","email":"Почта","not-found-npm":"Этот пакет не зарегистрирован в NPM или был не найден"}}'),delete e.options._Ctor}},b0c0:function(e,t,a){var n=a("83ab"),s=a("9bf2").f,i=Function.prototype,r=i.toString,c=/^\s*function ([^ (]*)/,o="name";n&&!(o in i)&&s(i,o,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(e){return""}}})},b5e6:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"prev":"Prev","next":"Next"},"ru":{"prev":"Назад","next":"Вперёд"}}'),delete e.options._Ctor}},dfeb:function(e,t,a){},e405:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"most-popular-packages":"Most popular packages","searched-packages":"Search result"},"ru":{"most-popular-packages":"Самые популярные пакеты","searched-packages":"Результат поиска"}}'),delete e.options._Ctor}},ebf7:function(e,t,a){"use strict";a("10a2")},f20d:function(e,t,a){"use strict";var n=a("b5e6"),s=a.n(n);t["default"]=s.a},f493:function(e,t,a){"use strict";a("dfeb")}}]);
//# sourceMappingURL=Home.9ca5a902.js.map